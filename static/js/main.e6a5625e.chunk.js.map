{"version":3,"sources":["img/withoutPhoto.png","redux/dialogsReducer.js","components/common/Preloader/Preloader.module.css","api/api.js","reportWebVitals.js","components/NavBar/NavBar.jsx","utils/objectHelper.js","redux/usersReduces.js","components/common/Paginator/Paginator.jsx","components/Users/User/User.jsx","components/Users/Users.jsx","redux/usersSelectors.js","components/Users/UsersContainer.jsx","img/jobstik.png","components/Header/Header.jsx","redux/authReducer.js","components/Header/HeaderContainer'.jsx","components/Login/Login.jsx","redux/appReducer.js","redux/sidebarReducer.js","redux/redux-store.js","HOC/withSuspense.js","App.js","index.js","components/NavBar/NavBar.module.css","components/common/FormsControls/FormsControls.module.css","img/pacman.gif","components/common/Preloader/Preloader.jsx","components/common/Paginator/Paginator.module.css","components/common/FormsControls/FormsControls.js","components/Users/Users.module.css","utils/validators/validators.js","components/Header/Header.module.css","HOC/withAuthRedirect.js","redux/profileReducer.js"],"names":["UPDATE_NEW_MESSAGE_BODY","SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","returnResponse","Response","data","instance","axios","withCredentials","baseURL","headers","usersAPI","getUsers","currentPage","pageSize","get","then","follow","userId","post","unfollow","delete","profileApi","getProfile","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","classes","nav","item","to","updateObjectArray","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","count","filter","Paginator","props","portionSize","pagesCount","Math","ceil","totalItemsCount","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","letftPortionPageNumber","rightPortionPageNumber","styles","paginator","prevButton","onClick","pageNumber","p","selectedPage","e","onPageChanged","nextButton","User","user","src","photos","small","userPhoto","alt","disabled","some","Users","pageUser","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","reqestUsers","this","Preloader","React","Component","compose","withAuthRedirect","connect","bind","totalCount","Header","style","header","logo","loginBlock","isAuth","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","responce","authReducer","HeaderContainer","auth","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","Field","placeholder","component","Input","validate","required","formSummaryError","length","stopSubmit","_error","formData","rememderMe","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","dialogsPage","profilePage","profileReducer","sidebarPage","reducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","AppContainer","withRouter","initializeApp","promise","Promise","all","useEffect","path","render","MainApp","ReactDOM","StrictMode","document","getElementById","pacman","preloader","Textarea","input","meta","touched","hasError","formControl","value","maxLengthCreator","maxLength","mapStateToPropsForRedirect","RedireсtComponent","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likesCount","profile","addPostAction","newPostText","setStatus","getUserProfile","response","newPost","postId"],"mappings":"wGAAe,QAA0B,0C,sFCAnCA,EAA0B,0BAC1BC,EAAe,eAEjBC,EAAe,CACfC,QAAS,CACL,CAACC,GAAG,EAAGC,KAAM,QACb,CAACD,GAAG,EAAGC,KAAM,SACb,CAACD,GAAG,EAAGC,KAAM,QACb,CAACD,GAAG,EAAGC,KAAM,UACb,CAACD,GAAG,EAAGC,KAAM,UAGfC,SAAU,CACR,CAACF,GAAG,EAAGG,QAAS,MAChB,CAACH,GAAG,EAAGG,QAAS,0CAChB,CAACH,GAAG,EAAGG,QAAS,scAwBXC,EAAqB,SAACC,GAAD,MAAqB,CAACC,KAAMT,EAAcQ,mBAE7DE,IAtBQ,WAAmC,IAAlCC,EAAiC,uDAAzBV,EAAcW,EAAW,uCAErD,OAAQA,EAAOH,MACX,KAAKV,EACD,OAAO,2BACAY,GADP,IAEIH,eAAgBI,EAAOC,OAE/B,KAAKb,EACD,IAAIa,EAAOD,EAAOJ,eAClB,OAAO,2BACAG,GADP,IAEIN,SAAS,GAAD,mBAAMM,EAAMN,UAAZ,CAAsB,CAAEF,GAAI,EAAGG,QAASO,OAGxD,QACI,OAAOF,K,oBClCnBG,EAAOC,QAAU,CAAC,OAAS,4B,sDCD3B,mHAGIC,EAAiB,SAAAC,GAAQ,OAAIA,EAASC,MAEpCC,EAAWC,SAAa,CAC1BC,iBAAiB,EACjBC,QAAS,gDACTC,QAAS,CACL,UAPO,0CAWFC,EAAW,CACpBC,SADoB,WACuB,IAAjCC,EAAgC,uDAAlB,EAAGC,EAAe,uDAAJ,GAClC,OAAOR,EAASS,IAAT,qBAA2BF,EAA3B,kBAAgDC,IAClDE,KAAKb,IAEdc,OALoB,SAKZC,GACJ,OAAOZ,EAASa,KAAT,iBAAyBD,IAC3BF,KAAKb,IAEdiB,SAToB,SASVF,GACN,OAAOZ,EAASe,OAAT,iBAA2BH,IAC7BF,KAAKb,KAILmB,EAAa,CACtBC,WADsB,SACVL,GACR,OAAOZ,EAASS,IAAT,kBAAwBG,IAC1BF,MAAM,SAAAZ,GAAQ,OAAIA,MAE3BoB,UALsB,SAKXN,GACP,OAAOZ,EAASS,IAAT,yBAA+BG,IACrCF,MAAK,SAAAZ,GAAQ,OAAIA,MAEtBqB,aATsB,SASRC,GACV,OAAOpB,EAASqB,IAAI,kBAAmB,CAACD,OAAQA,IAC/CV,MAAK,SAAAZ,GAAQ,OAAIA,OAIbwB,EAAU,CACnBC,GADmB,WAEf,OAAOvB,EAASS,IAAK,YAChBC,MAAM,SAAAZ,GAAQ,OAAIA,MAE3B0B,MALmB,SAKZC,EAAMC,GAA+B,IAArBC,EAAoB,wDACvC,OAAO3B,EAASa,KAAM,cAAe,CAACY,QAAMC,WAAUC,eACjDjB,MAAO,SAAAZ,GAAQ,OAAIA,MAE5B8B,OATmB,WAUf,OAAO5B,EAASe,OAAQ,eACnBL,KAAMb,M,kDC1CJgC,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBrB,MAAK,YAAkD,IAA/CsB,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,0ECOCO,EAXA,WACX,OAAO,sBAAKC,UAAWC,IAAQC,IAAxB,UACH,qBAAKF,UAAaC,IAAQE,KAA1B,SAAgC,cAAC,IAAD,CAASC,GAAG,WAAZ,uBAChC,qBAAKJ,UAAaC,IAAQE,KAA1B,SAAgC,cAAC,IAAD,CAASC,GAAG,WAAZ,wBAChC,qBAAKJ,UAAaC,IAAQE,KAA1B,SAAgC,cAAC,IAAD,CAASC,GAAG,SAAZ,qBAChC,qBAAKJ,UAAaC,IAAQE,KAA1B,SAAgC,cAAC,IAAD,CAASC,GAAG,GAAZ,oBAChC,qBAAKJ,UAAaC,IAAQE,KAA1B,SAAgC,cAAC,IAAD,CAASC,GAAG,GAAZ,qBAChC,qBAAKJ,UAAaC,IAAQE,KAA1B,SAAgC,cAAC,IAAD,CAASC,GAAG,GAAZ,4B,gGCV3BC,EAAoB,SAACC,EAAOC,EAAQC,EAAaC,GAC1D,OAAOH,EAAMI,KAAI,SAAAC,GACb,OAAIA,EAAEH,KAAiBD,EACZ,2BAAII,GAAMF,GAEdE,MCFTC,EAAS,SACTC,EAAW,WACXC,EAAY,YACZC,EAAmB,WACnBC,EAAwB,wBACxBC,EAAqB,qBACrBC,EAA+B,+BAEjC1E,EAAe,CACf2E,MAAO,GACPjD,SAAU,GACVkD,gBAAiB,EACjBnD,YAAa,EACboD,YAAY,EACZC,oBAAqB,IA8CZC,EAAgB,SAACjD,GAAD,MAAa,CAAEtB,KAAM4D,EAAQtC,WAC7CkD,EAAkB,SAAClD,GAAD,MAAa,CAAEtB,KAAM6D,EAAUvC,WAEjDmD,EAAiB,SAACxD,GAAD,MAAkB,CAAEjB,KAAM+D,EAAkB9C,gBAE7DyD,EAAmB,SAACL,GAAD,MAAiB,CAAErE,KAAMiE,EAAoBI,eAChEM,EAA0B,SAACN,EAAY/C,GAAb,MAAyB,CAAEtB,KAAMkE,EAA8BG,aAAY/C,WAcrGsD,EAAkB,uCAAG,WAAOC,EAAUvD,EAAQwD,EAAWC,GAApC,SAAAC,EAAA,6DAC1BH,EAASF,GAAwB,EAAMrD,IADb,SAETwD,EAAUxD,GAFD,OAGF,IAHE,OAGjB2D,YACLJ,EAASE,EAAczD,IAE3BuD,EAASF,GAAwB,EAAOrD,IANd,2CAAH,4DAyBhB4D,EAxFM,WAAmC,IAAlChF,EAAiC,uDAAzBV,EAAcW,EAAW,uCAEnD,OAAQA,EAAOH,MACX,KAAK4D,EACD,OAAO,2BACA1D,GADP,IAEIiE,MAAOd,EAAmBnD,EAAMiE,MAAOhE,EAAOmB,OAAQ,KAAM,CAAC6D,UAAU,MAG/E,KAAKtB,EACD,OAAO,2BACA3D,GADP,IAEIiE,MAAOd,EAAmBnD,EAAMiE,MAAOhE,EAAOmB,OAAQ,KAAM,CAAC6D,UAAU,MAG/E,KAAKrB,EACD,OAAO,2BACA5D,GADP,IAEIiE,MAAOhE,EAAOgE,QAGtB,KAAKJ,EACD,OAAO,2BAAK7D,GAAZ,IAAmBe,YAAad,EAAOc,cAE3C,KAAK+C,EACD,OAAO,2BAAK9D,GAAZ,IAAmBkE,gBAAiBjE,EAAOiF,QAE/C,KAAKnB,EACD,OAAO,2BAAK/D,GAAZ,IAAmBmE,WAAYlE,EAAOkE,aAE1C,KAAKH,EACD,OAAO,2BACAhE,GADP,IAEIoE,oBAAqBnE,EAAOkE,WAAP,sBACXnE,EAAMoE,qBADK,CACgBnE,EAAOmB,SACtCpB,EAAMoE,oBAAoBe,QAAO,SAAA3F,GAAE,OAAIA,IAAOS,EAAOmB,YAGnE,QACI,OAAOpB,I,2CCtBJoF,EAjCG,SAACC,EAAD,GAId,IAJ8C,IAAD,IAAtBC,mBAAsB,MAAR,GAAQ,EACzCC,EAAaC,KAAKC,KAAMJ,EAAMK,gBAAmBL,EAAMrE,UAEvD2E,EAAQ,GACHC,EAAI,EAAGA,GAAKL,EAAYK,IAC7BD,EAAME,KAAKD,GAGf,IAAIE,EAAeN,KAAKC,KAAMF,EAAaD,GAC3C,EAAwCS,mBAAU,GAAlD,mBAAKC,EAAL,KAAoBC,EAApB,KACIC,GAA0BF,EAAgB,GAAKV,EAAc,EAC7Da,EAAyBH,EAAgBV,EAE7C,OAAO,sBAAKxC,UAAasD,IAAOC,UAAzB,UACFL,EAAgB,GACjB,wBAAQlD,UAAasD,IAAOE,WAAYC,QAAW,WAAON,EAAiBD,EAAgB,IAA3F,kBACA,qBAAKlD,UAAasD,IAAOI,WAAzB,SACCb,EACAR,QAAQ,SAAAsB,GAAC,OAAIA,GAAIP,GAA0BO,GAAIN,KAC/C3C,KAAI,SAAAiD,GACD,OAAO,oBACH3D,UAAWuC,EAAMtE,cAAgB0F,GAAKL,IAAOM,aAE7CH,QAAS,SAACI,GAAQtB,EAAMuB,cAAcH,IAHnC,UAG0CA,EAH1C,MAEIA,QAIdX,EAAeE,GACZ,wBAAQlD,UAAasD,IAAOS,WAAYN,QAAW,WAAON,EAAiBD,EAAgB,IAA3F,sB,sECWGc,EArCF,SAAC,GAKV,IALsE,IAA3DC,EAA0D,EAA1DA,KAAK3C,EAAqD,EAArDA,oBAAqBjD,EAAgC,EAAhCA,OAAQG,EAAwB,EAAxBA,SAAa+D,EAAW,iBAEjEE,EAAaC,KAAKC,MAAMJ,EAAMnB,gBAAkB,OAASmB,EAAMrE,UAE/D2E,EAAQ,GACHC,EAAI,EAAGA,GAAKL,EAAYK,IAC7BD,EAAME,KAAKD,GAGf,OAAO,gCACH,iCACI,8BACI,cAAC,IAAD,CAAS1C,GAAI,YAAc6D,EAAKvH,GAAhC,SACI,qBAAKwH,IAA0B,MAArBD,EAAKE,OAAOC,MAAgBH,EAAKE,OAAOC,MAAQC,IAAWC,IAAI,GAAGtE,UAAWsD,IAAOe,gBAGtG,8BACKJ,EAAK9B,SACA,wBAAQoC,SAAUjD,EAAoBkD,MAAK,SAAA9H,GAAE,OAAIA,IAAOuH,EAAKvH,MAC3D+G,QAAS,kBAAMjF,EAASyF,EAAKvH,KAD/B,sBAEA,wBAAQ6H,SAAUjD,EAAoBkD,MAAK,SAAA9H,GAAE,OAAIA,IAAOuH,EAAKvH,MAC3D+G,QAAS,kBAAMpF,EAAO4F,EAAKvH,KAD7B,yBAKd,+BACI,iCACI,8BAAMuH,EAAKtH,OACX,8BAAMsH,EAAKnF,kBCTZ2F,EAnBD,SAAClC,GAEX,OAAO,sBAAKvC,UAAWsD,IAAOoB,SAAvB,UACH,cAAC,EAAD,CAAWzG,YAAesE,EAAMtE,YACxB2E,gBAAmBL,EAAMnB,gBACzB0C,cAAiBvB,EAAMuB,cACvB5F,SAAYqE,EAAMrE,WAC1B,8BAEAqE,EAAMpB,MAAMT,KAAI,SAAAC,GAAC,OAAI,cAAC,EAAD,CACDsD,KAAQtD,EACRW,oBAAuBiB,EAAMjB,oBAC7BjD,OAAUkE,EAAMlE,OAChBG,SAAY+D,EAAM/D,UAJNmC,EAAEjE,a,wBCd7BsB,GAAW,SAACd,GACrB,OAAOA,EAAMyH,UAAUxD,OAGdyD,GAAc,SAAC1H,GACxB,OAAOA,EAAMyH,UAAUzG,UAGd2G,GAAqB,SAAC3H,GAC/B,OAAOA,EAAMyH,UAAUvD,iBAGd0D,GAAiB,SAAC5H,GAC3B,OAAOA,EAAMyH,UAAU1G,aAGd8G,GAAgB,SAAC7H,GAC1B,OAAOA,EAAMyH,UAAUtD,YAGd2D,GAAyB,SAAC9H,GACnC,OAAOA,EAAMyH,UAAUrD,qBCZrB2D,G,4MAQFnB,cAAgB,SAACJ,GACb,EAAKnB,MAAM2C,YAAYxB,EAAY,EAAKnB,MAAMrE,W,uDAPlD,WAEI,MAA8BiH,KAAK5C,MAA9BtE,EAAL,EAAKA,YAAaC,EAAlB,EAAkBA,SAClBiH,KAAK5C,MAAM2C,YAAYjH,EAAaC,K,oBAOxC,WACI,OAAO,qCACEiH,KAAK5C,MAAMlB,WAAa,cAAC+D,EAAA,EAAD,IAAc,KAC/C,cAAC,EAAD,CAAOhE,gBAAiB+D,KAAK5C,MAAMnB,gBACnBlD,SAAYiH,KAAK5C,MAAMrE,SACvBD,YAAekH,KAAK5C,MAAMtE,YAC1B6F,cAAiBqB,KAAKrB,cACtB3C,MAAOgE,KAAK5C,MAAMpB,MAClB9C,OAAU8G,KAAK5C,MAAMlE,OACrBG,SAAY2G,KAAK5C,MAAM/D,SACvB8C,oBAAqB6D,KAAK5C,MAAMjB,6B,GAtB3B+D,IAAMC,WAuCpBC,gBACXC,IACAC,aAbkB,SAACvI,GACnB,MAAO,CACHiE,MAAOnD,GAASd,GAChBgB,SAAU0G,GAAY1H,GACtBkE,gBAAiByD,GAAmB3H,GACpCe,YAAa6G,GAAe5H,GAC5BmE,WAAY0D,GAAc7H,GAC1BoE,oBAAqB0D,GAAuB9H,MAO5C,CAACmB,OLyCa,SAACC,GACnB,8CAAO,WAAOuD,GAAP,eAAAG,EAAA,sDACCF,EAAY/D,IAASM,OAAOqH,KAAKpH,GAErCsD,EAAoBC,EAAUvD,EAAQwD,EADlBP,GAFjB,2CAAP,uDK1Ca/C,SLiDO,SAACF,GACrB,8CAAO,WAAOuD,GAAP,eAAAG,EAAA,sDACCF,EAAY/D,IAASS,SAASkH,KAAKpH,GAEvCsD,EAAoBC,EAAUvD,EAAQwD,EADlBN,GAFjB,2CAAP,uDKjDIC,iBACAyD,YLkBmB,SAACjH,EAAaC,GACrC,8CAAO,WAAO2D,GAAP,eAAAG,EAAA,6DACHH,EAASH,GAAiB,IADvB,SAGc3D,IAASC,SAASC,EAAaC,GAH7C,OAGCT,EAHD,OAIHoE,EAASJ,EAAexD,IACxB4D,EAASH,GAAiB,IAC1BG,GAbiBV,EAaC1D,EAAK6C,MAbK,CAAEtD,KAAM8D,EAAWK,WAc/CU,GAZ2BT,EAYC3D,EAAKkI,WAZe,CAAE3I,KAAMgE,EAAuBoB,MAAOhB,KAKnF,iCALuB,IAACA,EAFVD,IAOd,OAAP,yDKxBWoE,CAMbN,ICtDa,OAA0B,oC,oBCgB1BW,GAZA,SAACrD,GAEZ,OAAO,yBAAQvC,UAAW6F,KAAMC,OAAzB,cACP,qBAAK5B,IAAK6B,GAAMzB,IAAI,SACpB,qBAAKtE,UAAW6F,KAAMG,WAAtB,SACKzD,EAAM0D,OACD,gCAAM1D,EAAMrD,MAAQ,IACd,wBAAQuE,QAASlB,EAAMjD,OAAvB,uBACP,cAAC,IAAD,CAASc,GAAK,SAAd,yB,SCTP8F,GAAgB,qBAElB1J,GAAe,CACf8B,OAAQ,KACRa,MAAO,KACPD,MAAO,KACP+G,QAAQ,GAgBCE,GAAkB,SAACzJ,EAAIyC,EAAOD,EAAO+G,GAAnB,MAA+B,CAAEjJ,KAAMkJ,GAAeE,QAAS,CAAE1J,KAAIyC,QAAOD,QAAO+G,YACrGI,GAAkB,yDAAM,WAAOxE,GAAP,uBAAAG,EAAA,sEACZhD,IAAQC,KADI,OAGA,KAF7BqH,EAD6B,QAGpB7I,KAAKwE,aAAmB,EACNqE,EAAS7I,KAAKA,KAAnCf,EAD0B,EAC1BA,GAAIwC,EADsB,EACtBA,MAAOC,EADe,EACfA,MACjB0C,EAASsE,GAAgBzJ,EAAIyC,EAAOD,GAAO,KALd,2CAAN,uDA4BhBqH,GA1CK,WAAmC,IAAlCrJ,EAAiC,uDAAzBV,GAAcW,EAAW,uCAElD,OAAQA,EAAOH,MACX,KAAKkJ,GACD,OAAO,2BACAhJ,GACAC,EAAOiJ,SAElB,QACI,OAAOlJ,IChBbsJ,G,4JACF,WACI,OAAO,cAAC,GAAD,eAAYrB,KAAK5C,Y,GAFF8C,IAAMC,WAWrBG,gBALS,SAACvI,GAAD,MAAY,CAChC+I,OAAQ/I,EAAMuJ,KAAKR,OACnB/G,MAAOhC,EAAMuJ,KAAKvH,SAGkB,CAACI,OD8BnB,kBAAM,SAACuC,GACzB7C,IAAQM,SACHlB,MAAK,SAAAX,GACsB,IAApBA,EAAKwE,YACLJ,EAASsE,GAAgB,KAAM,KAAM,MAAM,UClC5CV,CAAmCe,I,0DCoB5CE,GAAiBC,aACF,CAACC,KAAM,SADLD,EA3BL,SAAC,GAA2B,IAA1BE,EAAyB,EAAzBA,aAAcC,EAAW,EAAXA,MAC9B,OAAO,uBAAMC,SAAUF,EAAhB,cACP,8BACI,cAACG,GAAA,EAAD,CAAOC,YAAe,QACdtK,KAAQ,QACRuK,UAAaC,KACbC,SAAU,CAACC,UAEvB,8BACI,cAACL,GAAA,EAAD,CAAOC,YAAe,WACdtK,KAAQ,WACRK,KAAQ,WACRkK,UAAaC,KACbC,SAAU,CAACC,UAEvB,gCACI,cAACL,GAAA,EAAD,CAAOhK,KAAQ,WAAYL,KAAQ,aAAcuK,UAAaC,OADlE,iBAGCL,GAAS,qBAAK9G,UAAa6F,KAAMyB,iBAAxB,SACLR,IAEL,gCACI,2CADJ,aA2BWrB,gBAJS,SAACvI,GAAD,MAAY,CAChC+I,OAAQ/I,EAAMuJ,KAAKR,UAGkB,CAAC/G,MFvBrB,SAACC,EAAOC,EAAUC,GAAlB,8CAAiC,WAAOwC,GAAP,mBAAAG,EAAA,sEAC7BhD,IAAQE,MAAMC,EAAOC,EAAUC,GADF,OAGjB,KAF7BiH,EAD8C,QAGrC7I,KAAKwE,WACdJ,EAASwE,OAELxJ,EAAUyJ,EAAS7I,KAAKb,SAAS2K,OAAS,EAAIjB,EAAS7I,KAAKb,SAAS,GAAK,aAC1EO,EAASqK,aAAW,QAAS,CAAEC,OAAQ5K,IAC3CgF,EAAS1E,IARqC,2CAAjC,wDEuBNsI,EAjBD,SAAClD,GAIX,OAAIA,EAAM0D,OACC,cAAC,IAAD,CAAU7F,GAAM,aAEpB,gCACH,uCACA,cAACsG,GAAD,CAAgBK,SARH,SAACW,GACdnF,EAAMrD,MAAMwI,EAASvI,MAAOuI,EAAStI,SAAUsI,EAASC,qBCxC1DC,GAAsB,sBAExBpL,GAAe,CACfqL,aAAa,GAwBFC,GArBI,WAAmC,IAAlC5K,EAAiC,uDAAzBV,GAAcW,EAAW,uCAEjD,OAAQA,EAAOH,MACX,KAAK4K,GACD,OAAO,2BACA1K,GADP,IAEI2K,aAAa,IAErB,QACI,OAAO3K,I,mBCjBfV,GAAe,GAQJuL,GAJQ,WAAmC,IAAlC7K,EAAiC,uDAAzBV,GAE5B,OAAOU,G,oBCIP8K,GAAWC,aACX,CACIC,YAAajL,KACbkL,YAAaC,KACbC,YAAaN,GACbpD,UAAWzC,EACXuE,KAAMF,GACNK,KAAM0B,KACNC,IAAKT,KAIPU,GAAmBC,OAAOC,sCAAwCnD,KAKzDoD,GAJDC,aAAYZ,GAAUQ,GAC5BK,aAAgBC,QCrBXC,GAAe,SAACzD,GACzB,OAAO,SAAC/C,GACJ,OAAO,cAAC,WAAD,CAAUyG,SAAU,cAAC5D,EAAA,EAAD,IAApB,SACH,cAACE,EAAD,eAAe/C,QCUrB0G,GAAmB5D,IAAM6D,MAAK,kBAAM,iCACpCC,GAAmB9D,IAAM6D,MAAK,kBAAM,iCAmCpCE,GAAe7D,aACnB8D,IACA5D,aANsB,SAACvI,GAAD,MAAY,CAClC2K,YAAa3K,EAAMqL,IAAIV,eAKE,CAAEyB,cJhCA,kBAAM,SAACzH,GAChC,IAAI0H,EAAU1H,EAAUwE,MACxBmD,QAAQC,IAAI,CAACF,IACZnL,MAAK,WACFyD,EALiC,CAAC7E,KAAM4K,YI+B3BrC,EA/BT,SAAChD,GASX,OAPAmH,qBAAU,WACRnH,EAAM+G,mBAMH/G,EAAMsF,YAIT,sBAAK7H,UAAU,cAAf,UACE,cAAC,GAAD,IACA,cAAC,EAAD,IACA,sBAAKA,UAAU,sBAAf,UACE,cAAC,IAAD,CAAO2J,KAAK,WAAWC,OAAQb,GAAcE,MAC7C,cAAC,IAAD,CAAOU,KAAK,oBAAoBC,OAAQb,GAAcI,MAFxD,IAGE,cAAC,IAAD,CAAOQ,KAAK,SAASC,OAAQ,kBAAM,cAAC,GAAD,OACnC,cAAC,IAAD,CAAOD,KAAK,SAASC,OAAQ,kBAAM,cAAC,GAAD,aAVhC,cAACxE,EAAA,EAAD,OAyBEyE,GAAU,SAACtH,GACtB,OAAO,eAAC,IAAD,iBACL,cAAC,IAAD,CAAUoG,MAAOA,GAAjB,SACE,cAACS,GAAD,UCnDJU,IAASF,OACP,eAAC,IAAMG,WAAP,gBACI,cAAC,GAAD,OAEJC,SAASC,eAAe,SAO5B1K,K,mBClBAlC,EAAOC,QAAU,CAAC,IAAM,oBAAoB,KAAO,uB,mBCAnDD,EAAOC,QAAU,CAAC,YAAc,mCAAmC,MAAQ,6BAA6B,iBAAmB,0C,yCCD5G,MAA0B,mC,yBCU1B8H,IANC,SAAC7C,GACb,OAAO,qBAAKvC,UAAasD,IAAO4G,OAAzB,SACH,qBAAKhG,IAAOiG,EAAW7F,IAAI,mB,mBCLnCjH,EAAOC,QAAU,CAAC,UAAY,6BAA6B,aAAe,gCAAgC,WAAa,8BAA8B,WAAa,8BAA8B,WAAa,gC,qLCChM8M,EAAW,SAAC,GAA+C,IAA9CC,EAA6C,EAA7CA,MAA6C,IAAtCC,KAAOC,EAA+B,EAA/BA,QAASzD,EAAsB,EAAtBA,MAAWvE,EAAW,iBAC7DiI,EAAWD,GAAWzD,EAC5B,OACI,sBAAK9G,UAAasD,IAAOmH,YAAY,KAAKD,EAAWlH,IAAOwD,MAAQ,IAApE,UACI,oDAAcuD,GAAW9H,IACxBiI,GAAY,+BAAO1D,QAKnBK,EAAQ,SAAC,GAA6B,IAA5BkD,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,KAAS/H,EAAW,iBACxCiI,EAAWF,EAAKC,SAAWD,EAAKxD,MACtC,OACI,sBAAK9G,UAAasD,IAAOmH,YAAY,KAAKD,EAAWlH,IAAOwD,MAAQ,IAApE,UACI,iDAAWuD,GAAW9H,IACrBiI,GAAY,+BAAOF,EAAKxD,a,mBChBrCzJ,EAAOC,QAAU,CAAC,UAAY,2B,gCCD9B,oEAAO,IAAM+J,EAAW,SAAAqD,GACpB,IAAIA,EACJ,MAAM,SAGGC,EAAmB,SAACC,GAAD,OAAe,SAACF,GAC5C,GAAIA,EAAMnD,OAASqD,EAAW,MAAO,iBAAkBA,K,mBCL3DvN,EAAOC,QAAU,CAAC,OAAS,uBAAuB,WAAa,6B,oJCG3DuN,EAA6B,SAAC3N,GAAD,MAAY,CACzC+I,OAAQ/I,EAAMuJ,KAAKR,SAGVT,EAAmB,SAACF,GAAe,IAEtCwF,EAFqC,4JAGvC,WACI,OAAK3F,KAAK5C,MAAM0D,OACT,cAACX,EAAD,eAAeH,KAAK5C,QADI,cAAC,IAAD,CAAUnC,GAAM,eAJZ,GAEXiF,IAAMC,WAQtC,OAFmCG,YAASoF,EAATpF,CAAqCqF,K,4NCdtEC,EAAW,WACXC,EAAmB,mBACnBC,EAAa,aACbC,EAAc,cAEhB1O,EAAe,CACf2O,MAAO,CACH,CAAEzO,GAAI,EAAGG,QAAS,8VAA8RuO,WAAY,IAC5T,CAAE1O,GAAI,EAAGG,QAAS,uGAAwBuO,WAAY,KAE1DC,QAAS,KACTvM,OAAQ,IA6BCwM,EAAgB,SAACC,GAAD,MAAkB,CAAEvO,KAAM+N,EAAUQ,gBAEpDC,EAAY,SAAC1M,GAAD,MAAa,CAAE9B,KAAMiO,EAAYnM,WAG7C2M,EAAiB,SAACnN,GAAD,8CAAY,WAAOuD,GAAP,eAAAG,EAAA,sEACjBtD,IAAWC,WAAWL,GADL,OAClCoN,EADkC,OAEtC7J,GAN2BwJ,EAMHK,EAASjO,KANO,CAAET,KAAMgO,EAAkBK,aAI5B,iCAJZ,IAACA,IAIW,OAAZ,uDAIjBzM,EAAY,SAACN,GAAD,8CAAY,WAAOuD,GAAP,eAAAG,EAAA,sEACZtD,IAAWE,UAAUN,GADT,OAC7BoN,EAD6B,OAEjC7J,EAAS2J,EAAUE,EAASjO,OAFK,2CAAZ,uDAIZoB,EAAe,SAACC,GAAD,8CAAY,WAAO+C,GAAP,SAAAG,EAAA,sEACftD,IAAWG,aAAaC,GADT,OAEH,IAFG,OAEvBrB,KAAKwE,YACdJ,EAAS2J,EAAU1M,IAHa,2CAAZ,uDAObsJ,IA9CQ,WAAmC,IAAlClL,EAAiC,uDAAzBV,EAAcW,EAAW,uCAErD,OAAQA,EAAOH,MACX,KAAK+N,EACD,IAAIY,EAAU,CACVjP,GAAI,EACJG,QAASM,EAAOoO,YAChBH,WAAY,GAEhB,OAAO,2BACAlO,GADP,IAEIiO,MAAM,GAAD,mBAAMjO,EAAMiO,OAAZ,CAAmBQ,IACxBJ,YAAa,KAGrB,KAAKP,EACD,OAAO,2BAAK9N,GAAZ,IAAmBmO,QAASlO,EAAOkO,UACvC,KAAKJ,EACD,OAAO,2BAAK/N,GAAZ,IAAmB4B,OAAQ3B,EAAO2B,SACtC,KAAKoM,EACD,OAAO,2BAAKhO,GAAZ,IAAmBiO,MAAOjO,EAAMiO,MAAM9I,QAAO,SAAAsB,GAAC,OAAIA,EAAEiI,SAAWzO,EAAOyO,YAC1E,QACI,OAAO1O,K","file":"static/js/main.e6a5625e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/withoutPhoto.a550e5ff.png\";","const UPDATE_NEW_MESSAGE_BODY = 'UPDATE_NEW_MESSAGE_BODY';\r\nconst SEND_MESSAGE = 'SEND_MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id:1, name: 'Dima'},\r\n        {id:2, name: 'Anton'},\r\n        {id:3, name: 'Lera'},\r\n        {id:4, name: 'Vitala'},\r\n        {id:5, name: 'Sveta'},\r\n        ],\r\n  \r\n      messages: [\r\n        {id:1, message: 'HI'},\r\n        {id:2, message: 'Как оно?'},\r\n        {id:3, message: 'Когда  сдашь проект? Привет, как дела? Lorem ipsum, dolor sit amet consectetur adipisicing elit. Error, deleniti qui molestiae reprehenderit, optio cumque consequatur blanditiis reiciendis molestias tenetur magnam totam delectus laborum similique recusandae. Corrupti assumenda temporibus reprehenderit!'},\r\n      ],\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    \r\n    switch (action.type) {\r\n        case UPDATE_NEW_MESSAGE_BODY:\r\n            return {\r\n                ...state,\r\n                newMessageBody: action.body, //меняем стейт, сохраняем текст из поля ввода\r\n            };\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody; //копируем сохранённый текст, во временную переменную\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, { id: 6, message: body }] //отправляем текст в базу\r\n            }; //типо в начале передаём все известные переменные, а последней назначаем то что нам нужно\r\n\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody})\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"pacman\":\"Preloader_pacman__EyGG9\"};","import * as axios from 'axios' //экспортиуем всё и упаковываем в axios\r\n\r\nconst APIKEY = '9c45ec84-683b-4d62-99c7-c8771e607700'\r\nlet returnResponse = Response => Response.data;\r\n\r\nconst instance = axios.create({ // создаём инстанс (объект) аксиоса\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": APIKEY\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers (currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(returnResponse)\r\n    },\r\n    follow (userId) {\r\n        return instance.post (`follow/${userId}`)\r\n            .then(returnResponse)\r\n    },\r\n    unfollow (userId) {\r\n        return instance.delete (`follow/${userId}`)\r\n            .then(returnResponse)\r\n    },\r\n}\r\n\r\nexport const profileApi = {\r\n    getProfile (userId) {\r\n        return instance.get(`profile/${userId}`)\r\n            .then( Response => Response)\r\n    },\r\n    getStatus (userId) {    \r\n        return instance.get(`profile/status/${userId}`)\r\n        .then(Response => Response)\r\n    },\r\n    updateStatus (status) {\r\n        return instance.put('profile/status/', {status: status})\r\n        .then(Response => Response)\r\n    },\r\n}\r\n\r\nexport const authAPI = {\r\n    me () {\r\n        return instance.get ('auth/me/')\r\n            .then (Response => Response)\r\n    },\r\n    login (email,password, rememberMe = false) {\r\n        return instance.post ('auth/login/', {email,password, rememberMe})\r\n            .then ( Response => Response)\r\n    },\r\n    logout () {\r\n        return instance.delete ('auth/login/')\r\n            .then (returnResponse)\r\n    }\r\n}","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import classes from'./NavBar.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nconst Navbar = () => {\r\n    return <nav className={classes.nav}>\r\n        <div className = {classes.item}><NavLink to=\"/profile\">Profile</NavLink></div>\r\n        <div className = {classes.item}><NavLink to=\"/dialogs\">Messeges</NavLink></div>\r\n        <div className = {classes.item}><NavLink to=\"/users\">Users</NavLink></div>\r\n        <div className = {classes.item}><NavLink to=\"\">News</NavLink></div>\r\n        <div className = {classes.item}><NavLink to=\"\">Music</NavLink></div>\r\n        <div className = {classes.item}><NavLink to=\"\">Settings</NavLink></div>\r\n    </nav>\r\n}\r\n\r\nexport default Navbar","export const updateObjectArray = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u\r\n    })\r\n}","import { usersAPI } from \"../api/api\";\r\nimport { updateObjectArray } from \"../utils/objectHelper\";\r\n\r\nconst FOLLOW = 'FOLLOW';\r\nconst UNFOLLOW = 'UNFOLLOW';\r\nconst SET_USERS = 'SET_USERS';\r\nconst SET_CURRENT_PAGE = 'SET_PAGE';\r\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT';\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    followingInProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectArray (state.users, action.userId, 'id', {followed: true}),\r\n            }\r\n\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: updateObjectArray (state.users, action.userId, 'id', {followed: false}),\r\n            }\r\n\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,\r\n                users: action.users //к массиву старых юзеров дописываем новых\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return { ...state, currentPage: action.currentPage }\r\n        }\r\n        case SET_TOTAL_USERS_COUNT: {\r\n            return { ...state, totalUsersCount: action.count }\r\n        }\r\n        case TOGGLE_IS_FETCHING: {\r\n            return { ...state, isFetching: action.isFetching }\r\n        }\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\r\n            return {\r\n                ...state,\r\n                followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId] // если загрузка, то мы дописываем id \r\n                    : state.followingInProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userId) => ({ type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({ type: UNFOLLOW, userId })\r\nexport const setUsers = (users) => ({ type: SET_USERS, users }) //это всё action creator\r\nexport const setCurrentPage = (currentPage) => ({ type: SET_CURRENT_PAGE, currentPage })\r\nexport const setUsersTotalCount = (totalUsersCount) => ({ type: SET_TOTAL_USERS_COUNT, count: totalUsersCount })\r\nexport const toggleIsFetching = (isFetching) => ({ type: TOGGLE_IS_FETCHING, isFetching })\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({ type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userId })\r\n\r\nexport const reqestUsers = (currentPage, pageSize) => { // это thunk Creator\r\n    return async (dispatch) => {                        // а это уже сам thunk\r\n        dispatch(toggleIsFetching(true));\r\n\r\n        let data = await usersAPI.getUsers(currentPage, pageSize)\r\n        dispatch(setCurrentPage(currentPage));\r\n        dispatch(toggleIsFetching(false))\r\n        dispatch(setUsers(data.items))\r\n        dispatch(setUsersTotalCount(data.totalCount))\r\n    }\r\n}\r\n\r\nexport const followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n        dispatch(toggleFollowingProgress(true, userId))\r\n        let data = await apiMethod(userId)\r\n        if (data.resultCode === 0) {\r\n            dispatch(actionCreator(userId))\r\n        }\r\n        dispatch(toggleFollowingProgress(false, userId))\r\n}\r\n\r\nexport const follow = (userId) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.follow.bind(userId)\r\n        let actionCreator = followSuccess\r\n        followUnfollowFlow (dispatch, userId, apiMethod, actionCreator)\r\n    }\r\n}\r\n\r\nexport const unfollow = (userId) => {\r\n    return async (dispatch) => {\r\n        let apiMethod = usersAPI.unfollow.bind(userId)\r\n        let actionCreator = unfollowSuccess\r\n        followUnfollowFlow (dispatch, userId, apiMethod, actionCreator)\r\n    }\r\n}\r\n\r\nexport default usersReducer;","import React, { useState } from 'react'\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './Paginator.module.css'\r\n\r\nconst Paginator = (props, {portionSize = 10}) => {\r\n    let pagesCount = Math.ceil((props.totalItemsCount) / props.pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil (pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState (1);\r\n    let letftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className = {styles.paginator}>\r\n        {portionNumber > 1 &&\r\n        <button className = {styles.prevButton} onClick = {() => {setPortionNumber(portionNumber - 1)}}>Prev</button>}\r\n        <div className = {styles.pageNumber}>\r\n        {pages\r\n        .filter (p => p >=letftPortionPageNumber && p <=rightPortionPageNumber)\r\n        .map(p => {\r\n            return <a\r\n                className={props.currentPage === p && styles.selectedPage}\r\n                key = {p}\r\n                onClick={(e) => { props.onPageChanged(p) }}>{p} </a> //это обработчик событий\r\n        })}\r\n        </div>\r\n        {portionCount > portionNumber &&\r\n            <button className = {styles.nextButton} onClick = {() => {setPortionNumber(portionNumber + 1)}}>Next</button>}\r\n    </div>\r\n}\r\n\r\n\r\n\r\nexport default Paginator;","import React from 'react'\r\nimport styles from '../Users.module.css'\r\nimport userPhoto from '../../../img/withoutPhoto.png'\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst User = ({user,followingInProgress, follow, unfollow, ...props}) => {\r\n\r\n    let pagesCount = Math.ceil((props.totalUsersCount - 13100) / props.pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    return <div>\r\n        <span>\r\n            <div>\r\n                <NavLink to={'/profile/' + user.id}>\r\n                    <img src={user.photos.small != null ? user.photos.small : userPhoto} alt='' className={styles.userPhoto} />\r\n                </NavLink>\r\n            </div>\r\n            <div>\r\n                {user.followed\r\n                    ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n                        onClick={() => unfollow(user.id)}>Unfollow</button>\r\n                    : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                        onClick={() => follow(user.id)}>Follow</button>\r\n                }\r\n            </div>\r\n        </span>\r\n        <span>\r\n            <span>\r\n                <div>{user.name}</div>\r\n                <div>{user.status}</div>\r\n            </span>\r\n\r\n        </span>\r\n    </div>\r\n}\r\n\r\n\r\n\r\nexport default User;","import React from 'react'\r\nimport styles from './Users.module.css'\r\nimport Paginator from '../common/Paginator/Paginator';\r\nimport User from './User/User';\r\n\r\nconst Users = (props) => {\r\n\r\n    return <div className={styles.pageUser}>\r\n        <Paginator currentPage = {props.currentPage}\r\n                totalItemsCount = {props.totalUsersCount}\r\n                onPageChanged = {props.onPageChanged}\r\n                pageSize = {props.pageSize}/> \r\n        <div>\r\n        {\r\n        props.users.map(u => <User key={u.id}\r\n                            user = {u}\r\n                            followingInProgress = {props.followingInProgress}\r\n                            follow = {props.follow}\r\n                            unfollow = {props.unfollow}/>)\r\n        }\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}","import {connect} from 'react-redux'\r\nimport { follow, unfollow, setCurrentPage,  reqestUsers } from '../../redux/usersReduces'\r\nimport React from 'react'\r\nimport Users from './Users'\r\nimport Preloader from '../common/Preloader/Preloader'\r\nimport { withAuthRedirect } from '../../HOC/withAuthRedirect'\r\nimport { compose } from 'redux'\r\nimport {getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalUsersCount, getUsers } from '../../redux/usersSelectors'\r\n\r\nclass UsersContainer extends React.Component { //наследую реакт компаненту\r\n\r\n    componentDidMount() {   //аякс запрос\r\n                            //вызывается один раз при отрисовки этой страницы, после рендера          \r\n        let {currentPage, pageSize} = this.props;\r\n        this.props.reqestUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.reqestUsers(pageNumber, this.props.pageSize);\r\n    }\r\n\r\n    render() {     \r\n        return <>\r\n                {this.props.isFetching ? <Preloader/>: null}\r\n        <Users totalUsersCount={this.props.totalUsersCount}\r\n                        pageSize = {this.props.pageSize}\r\n                        currentPage = {this.props.currentPage}\r\n                        onPageChanged = {this.onPageChanged} //экспорт функции проводится без пропса\r\n                        users={this.props.users}\r\n                        follow = {this.props.follow}\r\n                        unfollow = {this.props.unfollow}\r\n                        followingInProgress={this.props.followingInProgress}\r\n                        ></Users>\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state), //в компаненту придут юзеры, значениями которого будут юзеры из стейта\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose (\r\n    withAuthRedirect,\r\n    connect(mapStateToProps, \r\n        {follow, unfollow,  //функция connect сама может диспатчить action creator\r\n        setCurrentPage, //follow:follow (полностью писать не обязательно)\r\n        reqestUsers})\r\n)(UsersContainer)\r\n\r\n    // let mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         follow: (userId) => {\r\n//             dispatch(followAC(userId)); //мы диспатчим результат работы AC, а не его самого\r\n//         },\r\n//         unfollow: (userId) => {\r\n//             dispatch(unfollowAC(userId));\r\n//         },\r\n//         setUsers: (users) => {\r\n//             dispatch(setUsersAC(users));\r\n//         },\r\n//         setCurrentPage:(pageNumber)=> {\r\n//             dispatch(setCurrentPageAC(pageNumber));\r\n//         },\r\n//         setTotalUsersCount:(totalCount) => {\r\n//             dispatch(setUsersTotalCountAC(totalCount));\r\n//         },\r\n//         toggleIsFetching: (isFetching) => {\r\n//             dispatch (toggleIsFetchingAC(isFetching))\r\n//         }\r\n//     }\r\n// }","export default __webpack_public_path__ + \"static/media/jobstik.7a0bd732.png\";","import logo from '../../img/jobstik.png'\r\nimport style from './Header.module.css'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nconst Header = (props) => {\r\n    \r\n    return <header className={style.header}> {/*было <header className='header'>*/}\r\n    <img src={logo} alt=\"LOGO\"/>\r\n    <div className={style.loginBlock}>\r\n        {props.isAuth \r\n            ? <div>{props.login + ' '} \r\n                    <button onClick={props.logout}>Logout</button></div>\r\n            :<NavLink to = '/login'>Login</NavLink>}\r\n    </div>\r\n</header>\r\n}\r\nexport default Header;","import { stopSubmit } from \"redux-form\";\r\nimport { authAPI } from \"../api/api\";\r\n\r\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload,\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const setAuthUserData = (id, email, login, isAuth) => ({ type: SET_USER_DATA, payload: { id, email, login, isAuth } })\r\nexport const getAuthUserData = () => async (dispatch) => { //это thunk (санки)\r\n    let responce = await authAPI.me()\r\n\r\n    if (responce.data.resultCode === 0) {\r\n        let { id, login, email } = responce.data.data;\r\n        dispatch(setAuthUserData(id, email, login, true));\r\n    }\r\n}\r\nexport const login = (email, password, rememberMe) => async (dispatch) => { //это thunk (санки)\r\n    let responce = await authAPI.login(email, password, rememberMe)\r\n\r\n    if (responce.data.resultCode === 0) {\r\n        dispatch(getAuthUserData());\r\n    } else {\r\n        let message = responce.data.messages.length > 0 ? responce.data.messages[0] : 'Some error';\r\n        let action = stopSubmit('login', { _error: message });\r\n        dispatch(action);\r\n    }\r\n}\r\n\r\nexport const logout = () => (dispatch) => { //это thunk (санки)\r\n    authAPI.logout()\r\n        .then(data => {\r\n            if (data.resultCode === 0) {\r\n                dispatch(setAuthUserData(null, null, null, false));\r\n            }\r\n        })\r\n}\r\nexport default authReducer;","import React from 'react'\r\nimport Header from './Header'\r\nimport { connect } from 'react-redux'\r\nimport {logout} from './../../redux/authReducer'\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}></Header>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login,\r\n});\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { required } from '../../utils/validators/validators'\r\nimport { Input } from '../common/FormsControls/FormsControls'\r\nimport { login } from '../../redux/authReducer'\r\nimport { Redirect } from 'react-router-dom'\r\nimport style from '../common/FormsControls/FormsControls.module.css'\r\n\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return <form onSubmit={handleSubmit}> {/*при нажатии на форму запускает функцию обработчик*/}\r\n    <div>\r\n        <Field placeholder = {'Email'} \r\n                name = {'email'}   \r\n                component = {Input}\r\n                validate={[required]}></Field>\r\n    </div>\r\n    <div>\r\n        <Field placeholder = {'Password'} \r\n                name = {'password'} \r\n                type = {'password'} \r\n                component = {Input}\r\n                validate={[required]}></Field>\r\n    </div>\r\n    <div>\r\n        <Field type = {'checkbox'} name = {'rememberMe'} component = {Input}/>remember me\r\n    </div>\r\n    {error && <div className = {style.formSummaryError}>\r\n        {error}\r\n    </div>}\r\n    <div>\r\n        <button>Login</button> {/*пока кнопка в форме, она по дефолту перезагружает страницу*/}\r\n    </div>\r\n</form>\r\n}\r\n\r\nconst LoginReduxForm = reduxForm \r\n                    ({form: 'login'}) //название\r\n                    (LoginForm) // компанента\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememderMe)\r\n    }// здесь логин это колбек фунция, которая диспатчит вызов санки (та что в конненкте)\r\n    if (props.isAuth) {\r\n        return <Redirect to = {'/profile'}/>\r\n    }\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit = {onSubmit}/>\r\n    </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n})\r\n\r\nexport default connect (mapStateToProps, {login}) (Login);","import { getAuthUserData } from \"./authReducer\";\r\n\r\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    \r\n    switch (action.type) {\r\n        case INITIALIZED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialized: true\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\r\nexport const initializeApp = () => (dispatch) => { //это thunk (санки)\r\n    let promise = dispatch (getAuthUserData()); \r\n    Promise.all([promise])\r\n    .then(()=>{ // когда промисы зарезолвились\r\n        dispatch (initializedSuccess());\r\n    })\r\n}\r\nexport default appReducer;","let initialState = {\r\n\r\n}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n    return state\r\n}\r\nexport default sidebarReducer;","import { applyMiddleware, combineReducers, createStore, compose } from \"redux\";\r\nimport authReducer from \"./authReducer\";\r\nimport dialogsReducer from './dialogsReducer';\r\nimport profileReducer from './profileReducer';\r\nimport sidebarReducer from './sidebarReducer';\r\nimport usersReducer from \"./usersReduces\";\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { reducer } from \"redux-form\";\r\nimport appReducer from \"./appReducer\";\r\n\r\nlet reducers = combineReducers(  //это что-то типо стейта\r\n    {\r\n        dialogsPage: dialogsReducer, //мы создаём объект\r\n        profilePage: profileReducer, // совойством:значением\r\n        sidebarPage: sidebarReducer,\r\n        usersPage: usersReducer,\r\n        auth: authReducer,\r\n        form: reducer,\r\n        app: appReducer,\r\n    }\r\n)\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(  //сам создаёт стейт со свойствами\r\n        applyMiddleware(thunkMiddleware)    // включает промежуточный слой\r\n    ));\r\n    \r\nexport default store;\r\n","import { Suspense } from \"react\"\r\nimport Preloader from \"../components/common/Preloader/Preloader\"\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<Preloader />}>\r\n            <Component {...props} />\r\n        </Suspense>\r\n    }\r\n}","import './App.css';\r\nimport Navbar from './components/NavBar/NavBar';\r\nimport { BrowserRouter, Route, withRouter } from 'react-router-dom'\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer\\'';\r\nimport Login from './components/Login/Login';\r\nimport { connect } from 'react-redux';\r\nimport { initializeApp } from './redux/appReducer';\r\nimport { compose } from 'redux';\r\nimport Preloader from './components/common/Preloader/Preloader';\r\nimport store from './redux/redux-store';\r\nimport { Provider } from 'react-redux';\r\nimport { Suspense, useEffect } from 'react';\r\nimport React from 'react';\r\nimport { withSuspense } from './HOC/withSuspense';\r\n\r\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'))\r\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'))\r\n\r\n//импорт по мере надобности\r\n\r\nconst App = (props) => {\r\n\r\n  useEffect(() => { // выполнит функцию после отрисовки\r\n    props.initializeApp();\r\n  }) // выполняется в момент изменения [этой] переменной\r\n  // componentDidMount() {\r\n  //   this.props.initializeApp();\r\n  // }\r\n\r\n  if (!props.initialized) {\r\n    return <Preloader />\r\n  }\r\n  return (\r\n    <div className=\"app-wrapper\">\r\n      <HeaderContainer></HeaderContainer>\r\n      <Navbar></Navbar>\r\n      <div className='app-wrapper-content'>\r\n        <Route path='/dialogs' render={withSuspense (DialogsContainer)} />\r\n        <Route path='/profile/:userId?' render={withSuspense (ProfileContainer)}/> {/*:userId - это объявелние параметра, для withRoute, вопрос обозначает нестогий параметр*/}\r\n        <Route path='/users' render={() => <UsersContainer />}></Route>\r\n        <Route path='/login' render={() => <Login />}></Route>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized,\r\n})\r\n\r\nconst AppContainer = compose(\r\n  withRouter,\r\n  connect(mapStateToProps, { initializeApp }))(App)\r\n\r\nexport const MainApp = (props) => {\r\n  return <BrowserRouter>   {/* BrowserRouter — следует использовать когда вы обрабатываете на сервере динамические запросы, а HashRouter используйте когда у вас статический веб сайт. */}\r\n    <Provider store={store}  >\r\n      <AppContainer />\r\n    </Provider>\r\n  </BrowserRouter>\r\n}","import './index.css';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport { MainApp } from './App';\r\n\r\n\r\n  ReactDOM.render(\r\n    <React.StrictMode>  {/*строгий синтаксис, но выводит ошибки */}\r\n        <MainApp/>\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n  );\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"NavBar_nav__CO2Yw\",\"item\":\"NavBar_item__E5vVu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__1sSLJ\",\"error\":\"FormsControls_error__sJOIz\",\"formSummaryError\":\"FormsControls_formSummaryError__fQjXY\"};","export default __webpack_public_path__ + \"static/media/pacman.b04662fd.gif\";","import React from 'react'\r\nimport preloader from '../../../img/pacman.gif'\r\nimport styles from './Preloader.module.css'\r\n\r\nlet Preloader = (props) => {\r\n    return <div className = {styles.pacman}>\r\n        <img src = {preloader} alt='Loading...'/>\r\n    </div>\r\n}\r\n\r\nexport default Preloader","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1gzMW\",\"selectedPage\":\"Paginator_selectedPage__3XZ5W\",\"pageNumber\":\"Paginator_pageNumber__1xsmS\",\"nextButton\":\"Paginator_nextButton__cSpp5\",\"prevButton\":\"Paginator_prevButton__38Y63\"};","import styles from './FormsControls.module.css'\r\n\r\nexport const Textarea = ({input, meta: {touched, error}, ...props}) => {\r\n    const hasError = touched && error;\r\n    return (\r\n        <div className = {styles.formControl+' '+(hasError ? styles.error : '')}>\r\n            <textarea {...input} {...props}/>\r\n            {hasError && <span>{error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n    return (\r\n        <div className = {styles.formControl+' '+(hasError ? styles.error : '')}>\r\n            <input {...input} {...props}/>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__1FEV6\"};","export const required = value => {\r\n    if (value) return undefined;\r\n    return'empty'\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if (value.length > maxLength) return 'Max length is '+ maxLength;\r\n    return undefined\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__17Xzb\",\"loginBlock\":\"Header_loginBlock__XI7io\"};","import React from 'react'\r\nimport { connect } from 'react-redux';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nlet mapStateToPropsForRedirect = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n})\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n    class RedireсtComponent extends React.Component {\r\n        render() {\r\n            if (!this.props.isAuth) return <Redirect to = {'/login'}></Redirect>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }  \r\n    let ConnectAuthRedirectComponent = connect (mapStateToPropsForRedirect)(RedireсtComponent)\r\n    \r\n    return ConnectAuthRedirectComponent;\r\n}","import { profileApi } from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST';\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\r\nconst SET_STATUS = 'SET_STATUS';\r\nconst DELETE_POST = 'DELETE_POST'\r\n\r\nlet initialState = { //выставление стандартного значения\r\n    posts: [\r\n        { id: 1, message: 'Привет, как дела? Lorem ipsum, dolor sit amet consectetur adipisicing elit. Error, deleniti qui molestiae reprehenderit, optio cumque consequatur blanditiis reiciendis molestias tenetur magnam totam delectus laborum similique recusandae. Corrupti assumenda temporibus reprehenderit!', likesCount: 12 },\r\n        { id: 2, message: 'Это мой первый пост!', likesCount: 21 }\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n    switch (action.type) {\r\n        case ADD_POST: {  //это action, а action это объект\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostText,\r\n                likesCount: 1\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n        }\r\n        case SET_USER_PROFILE:\r\n            return { ...state, profile: action.profile }\r\n        case SET_STATUS:\r\n            return { ...state, status: action.status }\r\n        case DELETE_POST:\r\n            return { ...state, posts: state.posts.filter(p => p.postId !== action.postId) }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const addPostAction = (newPostText) => ({ type: ADD_POST, newPostText })\r\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\r\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\r\nexport const deletePost = (postId) => ({ type: DELETE_POST, postId })\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await profileApi.getProfile(userId)\r\n    dispatch(setUserProfile(response.data))\r\n}\r\nexport const getStatus = (userId) => async (dispatch) => { // это санкки (thunk)\r\n    let response = await profileApi.getStatus(userId)\r\n    dispatch(setStatus(response.data))\r\n}\r\nexport const updateStatus = (status) => async (dispatch) => { // это санкки (thunk)\r\n    let response = await profileApi.updateStatus(status)\r\n    if (response.data.resultCode === 0) {\r\n        dispatch(setStatus(status))\r\n    }\r\n}\r\n\r\nexport default profileReducer;"],"sourceRoot":""}